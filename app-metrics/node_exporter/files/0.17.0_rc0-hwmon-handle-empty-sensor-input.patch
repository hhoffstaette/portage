From 27c522adb6f98a575a88ff234c0e4cbad22dcfc0 Mon Sep 17 00:00:00 2001
From: Paul Gier <pgier@redhat.com>
Date: Mon, 22 Oct 2018 18:45:34 -0500
Subject: [PATCH] collector/hwmon_linux: handle cases where temp sensor input file is empty

See issue #1122 for more info
---
 collector/hwmon_linux.go | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/collector/hwmon_linux.go b/collector/hwmon_linux.go
index b2c40d56..d5c1de63 100644
--- a/collector/hwmon_linux.go
+++ b/collector/hwmon_linux.go
@@ -274,6 +274,9 @@ func (c *hwMonCollector) updateHwmon(ch chan<- prometheus.Metric, dir string) er
 				continue
 			}
 			if sensorType == "temp" && element != "type" {
+				if element == "" {
+					element = "input"
+				}
 				desc := prometheus.NewDesc(name+"_celsius", "Hardware monitor for temperature ("+element+")", hwmonLabelDesc, nil)
 				ch <- prometheus.MustNewConstMetric(
 					desc, prometheus.GaugeValue, parsedValue*0.001, labels...)
